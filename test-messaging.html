<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Stream.io Messaging</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .container { max-width: 800px; margin: 0 auto; }
        .test-section { border: 1px solid #ccc; padding: 20px; margin: 10px 0; }
        button { padding: 10px 20px; margin: 5px; }
        input { padding: 8px; margin: 5px; width: 200px; }
        #output { background: #f5f5f5; padding: 10px; min-height: 200px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Stream.io Messaging Test</h1>
        
        <div class="test-section">
            <h3>Instructions:</h3>
            <ol>
                <li>Open the main app in multiple browser tabs/windows</li>
                <li>Join the same room ID in both tabs</li>
                <li>Send messages from one tab and verify they appear in the other</li>
                <li>Check browser console for detailed logs</li>
            </ol>
        </div>

        <div class="test-section">
            <h3>Expected Behavior:</h3>
            <ul>
                <li>Messages sent from one user should appear in other users' chat</li>
                <li>Own messages should appear immediately (local feedback)</li>
                <li>System welcome messages should show when users join</li>
                <li>Console should show detailed event logging</li>
            </ul>
        </div>

        <div class="test-section">
            <h3>Quick Test Links:</h3>
            <p>Room ID to test: <strong>test-room-123</strong></p>
            <button onclick="openApp()">Open Main App</button>
            <button onclick="openApp()">Open Second Instance</button>
        </div>

        <div class="test-section">
            <h3>Console Output:</h3>
            <div id="output">
                Check browser console for detailed messaging logs...
            </div>
        </div>
    </div>

    <script>
        function openApp() {
            window.open('/', '_blank');
        }
        
        // Log any console messages here
        const originalLog = console.log;
        console.log = function(...args) {
            originalLog.apply(console, args);
            const output = document.getElementById('output');
            output.innerHTML += '<div>' + args.join(' ') + '</div>';
            output.scrollTop = output.scrollHeight;
        };
    </script>
</body>
</html>